(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function a(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=a(i);fetch(i.href,l)}})();var _e,b,st,ot,M,We,ct,ut,dt,Ee,Ce,ke,re={},ft=[],zt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ye=Array.isArray;function T(t,e){for(var a in e)t[a]=e[a];return t}function Oe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function jt(t,e,a){var r,i,l,s={};for(l in e)l=="key"?r=e[l]:l=="ref"?i=e[l]:s[l]=e[l];if(arguments.length>2&&(s.children=arguments.length>3?_e.call(arguments,2):a),typeof t=="function"&&t.defaultProps!=null)for(l in t.defaultProps)s[l]===void 0&&(s[l]=t.defaultProps[l]);return ce(t,s,r,i,null)}function ce(t,e,a,r,i){var l={type:t,props:e,key:a,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++st,__i:-1,__u:0};return i==null&&b.vnode!=null&&b.vnode(l),l}function z(t){return t.children}function ae(t,e){this.props=t,this.context=e}function Y(t,e){if(e==null)return t.__?Y(t.__,t.__i+1):null;for(var a;e<t.__k.length;e++)if((a=t.__k[e])!=null&&a.__e!=null)return a.__e;return typeof t.type=="function"?Y(t):null}function ht(t){var e,a;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((a=t.__k[e])!=null&&a.__e!=null){t.__e=t.__c.base=a.__e;break}return ht(t)}}function He(t){(!t.__d&&(t.__d=!0)&&M.push(t)&&!he.__r++||We!=b.debounceRendering)&&((We=b.debounceRendering)||ct)(he)}function he(){for(var t,e,a,r,i,l,s,u=1;M.length;)M.length>u&&M.sort(ut),t=M.shift(),u=M.length,t.__d&&(a=void 0,i=(r=(e=t).__v).__e,l=[],s=[],e.__P&&((a=T({},r)).__v=r.__v+1,b.vnode&&b.vnode(a),Te(e.__P,a,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,l,i??Y(r),!!(32&r.__u),s),a.__v=r.__v,a.__.__k[a.__i]=a,mt(l,a,s),a.__e!=i&&ht(a)));he.__r=0}function vt(t,e,a,r,i,l,s,u,f,c,d){var o,v,p,h,m,N,_=r&&r.__k||ft,g=e.length;for(f=Mt(a,e,_,f,g),o=0;o<g;o++)(p=a.__k[o])!=null&&(v=p.__i==-1?re:_[p.__i]||re,p.__i=o,N=Te(t,p,v,i,l,s,u,f,c,d),h=p.__e,p.ref&&v.ref!=p.ref&&(v.ref&&Ae(v.ref,null,p),d.push(p.ref,p.__c||h,p)),m==null&&h!=null&&(m=h),4&p.__u||v.__k===p.__k?f=pt(p,f,t):typeof p.type=="function"&&N!==void 0?f=N:h&&(f=h.nextSibling),p.__u&=-7);return a.__e=m,f}function Mt(t,e,a,r,i){var l,s,u,f,c,d=a.length,o=d,v=0;for(t.__k=new Array(i),l=0;l<i;l++)(s=e[l])!=null&&typeof s!="boolean"&&typeof s!="function"?(f=l+v,(s=t.__k[l]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ce(null,s,null,null,null):ye(s)?ce(z,{children:s},null,null,null):s.constructor==null&&s.__b>0?ce(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,u=null,(c=s.__i=Rt(s,a,f,o))!=-1&&(o--,(u=a[c])&&(u.__u|=2)),u==null||u.__v==null?(c==-1&&(i>d?v--:i<d&&v++),typeof s.type!="function"&&(s.__u|=4)):c!=f&&(c==f-1?v--:c==f+1?v++:(c>f?v--:v++,s.__u|=4))):t.__k[l]=null;if(o)for(l=0;l<d;l++)(u=a[l])!=null&&!(2&u.__u)&&(u.__e==r&&(r=Y(u)),yt(u,u));return r}function pt(t,e,a){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=pt(r[i],e,a));return e}t.__e!=e&&(e&&t.type&&!a.contains(e)&&(e=Y(t)),a.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Rt(t,e,a,r){var i,l,s,u=t.key,f=t.type,c=e[a],d=c!=null&&(2&c.__u)==0;if(c===null&&t.key==null||d&&u==c.key&&f==c.type)return a;if(r>(d?1:0)){for(i=a-1,l=a+1;i>=0||l<e.length;)if((c=e[s=i>=0?i--:l++])!=null&&!(2&c.__u)&&u==c.key&&f==c.type)return s}return-1}function qe(t,e,a){e[0]=="-"?t.setProperty(e,a??""):t[e]=a==null?"":typeof a!="number"||zt.test(e)?a:a+"px"}function se(t,e,a,r,i){var l,s;e:if(e=="style")if(typeof a=="string")t.style.cssText=a;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)a&&e in a||qe(t.style,e,"");if(a)for(e in a)r&&a[e]==r[e]||qe(t.style,e,a[e])}else if(e[0]=="o"&&e[1]=="n")l=e!=(e=e.replace(dt,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+l]=a,a?r?a.u=r.u:(a.u=Ee,t.addEventListener(e,l?ke:Ce,l)):t.removeEventListener(e,l?ke:Ce,l);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&a==1?"":a))}}function Be(t){return function(e){if(this.l){var a=this.l[e.type+t];if(e.t==null)e.t=Ee++;else if(e.t<a.u)return;return a(b.event?b.event(e):e)}}}function Te(t,e,a,r,i,l,s,u,f,c){var d,o,v,p,h,m,N,_,g,j,U,le,X,Re,ie,ee,be,D=e.type;if(e.constructor!=null)return null;128&a.__u&&(f=!!(32&a.__u),l=[u=e.__e=a.__e]),(d=b.__b)&&d(e);e:if(typeof D=="function")try{if(_=e.props,g="prototype"in D&&D.prototype.render,j=(d=D.contextType)&&r[d.__c],U=d?j?j.props.value:d.__:r,a.__c?N=(o=e.__c=a.__c).__=o.__E:(g?e.__c=o=new D(_,U):(e.__c=o=new ae(_,U),o.constructor=D,o.render=Ht),j&&j.sub(o),o.props=_,o.state||(o.state={}),o.context=U,o.__n=r,v=o.__d=!0,o.__h=[],o._sb=[]),g&&o.__s==null&&(o.__s=o.state),g&&D.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=T({},o.__s)),T(o.__s,D.getDerivedStateFromProps(_,o.__s))),p=o.props,h=o.state,o.__v=e,v)g&&D.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),g&&o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(g&&D.getDerivedStateFromProps==null&&_!==p&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(_,U),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(_,o.__s,U)===!1||e.__v==a.__v){for(e.__v!=a.__v&&(o.props=_,o.state=o.__s,o.__d=!1),e.__e=a.__e,e.__k=a.__k,e.__k.some(function(B){B&&(B.__=e)}),le=0;le<o._sb.length;le++)o.__h.push(o._sb[le]);o._sb=[],o.__h.length&&s.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(_,o.__s,U),g&&o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(p,h,m)})}if(o.context=U,o.props=_,o.__P=t,o.__e=!1,X=b.__r,Re=0,g){for(o.state=o.__s,o.__d=!1,X&&X(e),d=o.render(o.props,o.state,o.context),ie=0;ie<o._sb.length;ie++)o.__h.push(o._sb[ie]);o._sb=[]}else do o.__d=!1,X&&X(e),d=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++Re<25);o.state=o.__s,o.getChildContext!=null&&(r=T(T({},r),o.getChildContext())),g&&!v&&o.getSnapshotBeforeUpdate!=null&&(m=o.getSnapshotBeforeUpdate(p,h)),ee=d,d!=null&&d.type===z&&d.key==null&&(ee=_t(d.props.children)),u=vt(t,ye(ee)?ee:[ee],e,a,r,i,l,s,u,f,c),o.base=e.__e,e.__u&=-161,o.__h.length&&s.push(o),N&&(o.__E=o.__=null)}catch(B){if(e.__v=null,f||l!=null)if(B.then){for(e.__u|=f?160:128;u&&u.nodeType==8&&u.nextSibling;)u=u.nextSibling;l[l.indexOf(u)]=null,e.__e=u}else{for(be=l.length;be--;)Oe(l[be]);Le(e)}else e.__e=a.__e,e.__k=a.__k,B.then||Le(e);b.__e(B,e,a)}else l==null&&e.__v==a.__v?(e.__k=a.__k,e.__e=a.__e):u=e.__e=Wt(a.__e,e,a,r,i,l,s,f,c);return(d=b.diffed)&&d(e),128&e.__u?void 0:u}function Le(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Le)}function mt(t,e,a){for(var r=0;r<a.length;r++)Ae(a[r],a[++r],a[++r]);b.__c&&b.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(l){l.call(i)})}catch(l){b.__e(l,i.__v)}})}function _t(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:ye(t)?t.map(_t):T({},t)}function Wt(t,e,a,r,i,l,s,u,f){var c,d,o,v,p,h,m,N=a.props,_=e.props,g=e.type;if(g=="svg"?i="http://www.w3.org/2000/svg":g=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),l!=null){for(c=0;c<l.length;c++)if((p=l[c])&&"setAttribute"in p==!!g&&(g?p.localName==g:p.nodeType==3)){t=p,l[c]=null;break}}if(t==null){if(g==null)return document.createTextNode(_);t=document.createElementNS(i,g,_.is&&_),u&&(b.__m&&b.__m(e,l),u=!1),l=null}if(g==null)N===_||u&&t.data==_||(t.data=_);else{if(l=l&&_e.call(t.childNodes),N=a.props||re,!u&&l!=null)for(N={},c=0;c<t.attributes.length;c++)N[(p=t.attributes[c]).name]=p.value;for(c in N)if(p=N[c],c!="children"){if(c=="dangerouslySetInnerHTML")o=p;else if(!(c in _)){if(c=="value"&&"defaultValue"in _||c=="checked"&&"defaultChecked"in _)continue;se(t,c,null,p,i)}}for(c in _)p=_[c],c=="children"?v=p:c=="dangerouslySetInnerHTML"?d=p:c=="value"?h=p:c=="checked"?m=p:u&&typeof p!="function"||N[c]===p||se(t,c,p,N[c],i);if(d)u||o&&(d.__html==o.__html||d.__html==t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(o&&(t.innerHTML=""),vt(e.type=="template"?t.content:t,ye(v)?v:[v],e,a,r,g=="foreignObject"?"http://www.w3.org/1999/xhtml":i,l,s,l?l[0]:a.__k&&Y(a,0),u,f),l!=null)for(c=l.length;c--;)Oe(l[c]);u||(c="value",g=="progress"&&h==null?t.removeAttribute("value"):h!=null&&(h!==t[c]||g=="progress"&&!h||g=="option"&&h!=N[c])&&se(t,c,h,N[c],i),c="checked",m!=null&&m!=t[c]&&se(t,c,m,N[c],i))}return t}function Ae(t,e,a){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){b.__e(i,a)}}function yt(t,e,a){var r,i;if(b.unmount&&b.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||Ae(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){b.__e(l,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&yt(r[i],e,a||typeof t.type!="function");a||Oe(t.__e),t.__c=t.__=t.__e=void 0}function Ht(t,e,a){return this.constructor(t,a)}function qt(t,e,a){var r,i,l,s;e==document&&(e=document.documentElement),b.__&&b.__(t,e),i=(r=!1)?null:e.__k,l=[],s=[],Te(e,t=e.__k=jt(z,null,[t]),i||re,re,e.namespaceURI,i?null:e.firstChild?_e.call(e.childNodes):null,l,i?i.__e:e.firstChild,r,s),mt(l,t,s)}_e=ft.slice,b={__e:function(t,e,a,r){for(var i,l,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((l=i.constructor)&&l.getDerivedStateFromError!=null&&(i.setState(l.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(u){t=u}throw t}},st=0,ot=function(t){return t!=null&&t.constructor==null},ae.prototype.setState=function(t,e){var a;a=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=T({},this.state),typeof t=="function"&&(t=t(T({},a),this.props)),t&&T(a,t),t!=null&&this.__v&&(e&&this._sb.push(e),He(this))},ae.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),He(this))},ae.prototype.render=z,M=[],ct=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ut=function(t,e){return t.__v.__b-e.__v.__b},he.__r=0,dt=/(PointerCapture)$|Capture$/i,Ee=0,Ce=Be(!1),ke=Be(!0);var Bt=0;function n(t,e,a,r,i,l){e||(e={});var s,u,f=e;if("ref"in f)for(u in f={},e)u=="ref"?s=e[u]:f[u]=e[u];var c={type:t,props:f,key:a,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Bt,__i:-1,__u:0,__source:i,__self:l};if(typeof t=="function"&&(s=t.defaultProps))for(u in s)f[u]===void 0&&(f[u]=s[u]);return b.vnode&&b.vnode(c),c}var ve,$,Ne,Ge,Ie=0,gt=[],C=b,Ve=C.__b,Ke=C.__r,Ye=C.diffed,Ze=C.__c,Qe=C.unmount,Xe=C.__;function bt(t,e){C.__h&&C.__h($,t,Ie||e),Ie=0;var a=$.__H||($.__H={__:[],__h:[]});return t>=a.__.length&&a.__.push({}),a.__[t]}function Nt(t,e){var a=bt(ve++,3);!C.__s&&wt(a.__H,e)&&(a.__=t,a.u=e,$.__H.__h.push(a))}function xt(t){return Ie=5,W(function(){return{current:t}},[])}function W(t,e){var a=bt(ve++,7);return wt(a.__H,e)&&(a.__=t(),a.__H=e,a.__h=t),a.__}function Gt(){for(var t;t=gt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ue),t.__H.__h.forEach($e),t.__H.__h=[]}catch(e){t.__H.__h=[],C.__e(e,t.__v)}}C.__b=function(t){$=null,Ve&&Ve(t)},C.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Xe&&Xe(t,e)},C.__r=function(t){Ke&&Ke(t),ve=0;var e=($=t.__c).__H;e&&(Ne===$?(e.__h=[],$.__h=[],e.__.forEach(function(a){a.__N&&(a.__=a.__N),a.u=a.__N=void 0})):(e.__h.forEach(ue),e.__h.forEach($e),e.__h=[],ve=0)),Ne=$},C.diffed=function(t){Ye&&Ye(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(gt.push(e)!==1&&Ge===C.requestAnimationFrame||((Ge=C.requestAnimationFrame)||Vt)(Gt)),e.__H.__.forEach(function(a){a.u&&(a.__H=a.u),a.u=void 0})),Ne=$=null},C.__c=function(t,e){e.some(function(a){try{a.__h.forEach(ue),a.__h=a.__h.filter(function(r){return!r.__||$e(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],C.__e(r,a.__v)}}),Ze&&Ze(t,e)},C.unmount=function(t){Qe&&Qe(t);var e,a=t.__c;a&&a.__H&&(a.__H.__.forEach(function(r){try{ue(r)}catch(i){e=i}}),a.__H=void 0,e&&C.__e(e,a.__v))};var et=typeof requestAnimationFrame=="function";function Vt(t){var e,a=function(){clearTimeout(r),et&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(a,35);et&&(e=requestAnimationFrame(a))}function ue(t){var e=$,a=t.__c;typeof a=="function"&&(t.__c=void 0,a()),$=e}function $e(t){var e=$;t.__c=t.__(),$=e}function wt(t,e){return!t||t.length!==e.length||e.some(function(a,r){return a!==t[r]})}var Kt=Symbol.for("preact-signals");function Pe(){if(K>1)K--;else{for(var t,e=!1;ne!==void 0;){var a=ne;for(ne=void 0,Fe++;a!==void 0;){var r=a.o;if(a.o=void 0,a.f&=-3,!(8&a.f)&&kt(a))try{a.c()}catch(i){e||(t=i,e=!0)}a=r}}if(Fe=0,K--,e)throw t}}var y=void 0;function St(t){var e=y;y=void 0;try{return t()}finally{y=e}}var ne=void 0,K=0,Fe=0,pe=0;function Ct(t){if(y!==void 0){var e=t.n;if(e===void 0||e.t!==y)return e={i:0,S:t,p:y.s,n:void 0,t:y,e:void 0,x:void 0,r:e},y.s!==void 0&&(y.s.n=e),y.s=e,t.n=e,32&y.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=y.s,e.n=void 0,y.s.n=e,y.s=e),e}}function k(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=e?.watched,this.Z=e?.unwatched}k.prototype.brand=Kt;k.prototype.h=function(){return!0};k.prototype.S=function(t){var e=this,a=this.t;a!==t&&t.e===void 0&&(t.x=a,this.t=t,a!==void 0?a.e=t:St(function(){var r;(r=e.W)==null||r.call(e)}))};k.prototype.U=function(t){var e=this;if(this.t!==void 0){var a=t.e,r=t.x;a!==void 0&&(a.x=r,t.e=void 0),r!==void 0&&(r.e=a,t.x=void 0),t===this.t&&(this.t=r,r===void 0&&St(function(){var i;(i=e.Z)==null||i.call(e)}))}};k.prototype.subscribe=function(t){var e=this;return Je(function(){var a=e.value,r=y;y=void 0;try{t(a)}finally{y=r}})};k.prototype.valueOf=function(){return this.value};k.prototype.toString=function(){return this.value+""};k.prototype.toJSON=function(){return this.value};k.prototype.peek=function(){var t=y;y=void 0;try{return this.value}finally{y=t}};Object.defineProperty(k.prototype,"value",{get:function(){var t=Ct(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(Fe>100)throw new Error("Cycle detected");this.v=t,this.i++,pe++,K++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Pe()}}}});function F(t,e){return new k(t,e)}function kt(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function Lt(t){for(var e=t.s;e!==void 0;e=e.n){var a=e.S.n;if(a!==void 0&&(e.r=a),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function It(t){for(var e=t.s,a=void 0;e!==void 0;){var r=e.p;e.i===-1?(e.S.U(e),r!==void 0&&(r.n=e.n),e.n!==void 0&&(e.n.p=r)):a=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=r}t.s=a}function H(t,e){k.call(this,void 0),this.x=t,this.s=void 0,this.g=pe-1,this.f=4,this.W=e?.watched,this.Z=e?.unwatched}H.prototype=new k;H.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===pe))return!0;if(this.g=pe,this.f|=1,this.i>0&&!kt(this))return this.f&=-2,!0;var t=y;try{Lt(this),y=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(a){this.v=a,this.f|=16,this.i++}return y=t,It(this),this.f&=-2,!0};H.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}k.prototype.S.call(this,t)};H.prototype.U=function(t){if(this.t!==void 0&&(k.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};H.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(H.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=Ct(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function q(t,e){return new H(t,e)}function $t(t){var e=t.u;if(t.u=void 0,typeof e=="function"){K++;var a=y;y=void 0;try{e()}catch(r){throw t.f&=-2,t.f|=8,Ue(t),r}finally{y=a,Pe()}}}function Ue(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,$t(t)}function Yt(t){if(y!==this)throw new Error("Out-of-order effect");It(this),y=t,this.f&=-2,8&this.f&&Ue(this),Pe()}function Z(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}Z.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};Z.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,$t(this),Lt(this),K++;var t=y;return y=this,Yt.bind(this,t)};Z.prototype.N=function(){2&this.f||(this.f|=2,this.o=ne,ne=this)};Z.prototype.d=function(){this.f|=8,1&this.f||Ue(this)};Z.prototype.dispose=function(){this.d()};function Je(t){var e=new Z(t);try{e.c()}catch(r){throw e.d(),r}var a=e.d.bind(e);return a[Symbol.dispose]=a,a}var ge,xe;function Q(t,e){b[t]=e.bind(null,b[t]||function(){})}function me(t){xe&&xe(),xe=t&&t.S()}function Ft(t){var e=this,a=t.data,r=L(a);r.value=a;var i=W(function(){for(var l=e.__v;l=l.__;)if(l.__c){l.__c.__$f|=4;break}return e.__$u.c=function(){var s,u=e.__$u.S(),f=i.value;u(),ot(f)||((s=e.base)==null?void 0:s.nodeType)!==3?(e.__$f|=1,e.setState({})):e.base.data=f},q(function(){var s=r.value.value;return s===0?0:s===!0?"":s||""})},[]);return i.value}Ft.displayName="_st";Object.defineProperties(k.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Ft},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});Q("__b",function(t,e){if(typeof e.type=="string"){var a,r=e.props;for(var i in r)if(i!=="children"){var l=r[i];l instanceof k&&(a||(e.__np=a={}),a[i]=l,r[i]=l.peek())}}t(e)});Q("__r",function(t,e){me();var a,r=e.__c;r&&(r.__$f&=-2,(a=r.__$u)===void 0&&(r.__$u=a=function(i){var l;return Je(function(){l=this}),l.c=function(){r.__$f|=1,r.setState({})},l}())),ge=r,me(a),t(e)});Q("__e",function(t,e,a,r){me(),ge=void 0,t(e,a,r)});Q("diffed",function(t,e){me(),ge=void 0;var a;if(typeof e.type=="string"&&(a=e.__e)){var r=e.__np,i=e.props;if(r){var l=a.U;if(l)for(var s in l){var u=l[s];u!==void 0&&!(s in r)&&(u.d(),l[s]=void 0)}else a.U=l={};for(var f in r){var c=l[f],d=r[f];c===void 0?(c=Zt(a,f,d,i),l[f]=c):c.o(d,i)}}}t(e)});function Zt(t,e,a,r){var i=e in t&&t.ownerSVGElement===void 0,l=F(a);return{o:function(s,u){l.value=s,r=u},d:Je(function(){var s=l.value.value;r[e]!==s&&(r[e]=s,i?t[e]=s:s?t.setAttribute(e,s):t.removeAttribute(e))})}}Q("unmount",function(t,e){if(typeof e.type=="string"){var a=e.__e;if(a){var r=a.U;if(r){a.U=void 0;for(var i in r){var l=r[i];l&&l.d()}}}}else{var s=e.__c;if(s){var u=s.__$u;u&&(s.__$u=void 0,u.d())}}t(e)});Q("__h",function(t,e,a,r){(r<3||r===9)&&(e.__$f|=2),t(e,a,r)});ae.prototype.shouldComponentUpdate=function(t,e){var a=this.__$u,r=a&&a.s!==void 0;for(var i in e)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){if(!(r||2&this.__$f||4&this.__$f)||1&this.__$f)return!0}else if(!(r||4&this.__$f)||3&this.__$f)return!0;for(var l in t)if(l!=="__source"&&t[l]!==this.props[l])return!0;for(var s in this.props)if(!(s in t))return!0;return!1};function L(t){return W(function(){return F(t)},[])}function S(t){var e=xt(t);return e.current=t,ge.__$f|=4,W(function(){return q(function(){return e.current()})},[])}const tt=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,""),ze=t=>{try{return[JSON.parse(t),null]}catch(e){return[null,e instanceof Error?e.message:"Parse error"]}},je=t=>{const e=new Set,a=i=>{i&&typeof i=="string"&&e.add(i)},r=i=>{for(const l of i||[]){l.id&&a(l.id);for(const s of l.items||[])s.id&&a(s.id),s.legendDescription&&a(s.legendDescription)}};return r(t.weatherFeatures),r(t.features),e},Me=t=>{const e=new Set,a=r=>{for(const i of r||[])for(const l of i.items||[])for(const s of l.layersIds||[])e.add(s)};return a(t.weatherFeatures),a(t.features),e},Qt=(t,e,a="application/json")=>{const r=new Blob([e],{type:a}),i=URL.createObjectURL(r),l=document.createElement("a");l.href=i,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)},Dt=(t,e)=>{let a;return(...r)=>{clearTimeout(a),a=setTimeout(()=>t(...r),e)}},Xt=()=>({weatherFeatures:[],features:[],layers:[],intl:{en:{},da:{},nb:{},sv:{}}}),Et=t=>{const[e,a]=ze(t);if(a)return{valid:!1,errors:[`JSON Parse Error: ${a}`],warnings:[]};const r=[],i=[];if(!e||typeof e!="object")return r.push("Root must be an object"),{valid:!1,errors:r,warnings:i};const l=["weatherFeatures","features","layers"];for(const s of l)Array.isArray(e[s])||r.push(`Missing or invalid '${s}' array`);if(!e.intl||typeof e.intl!="object")r.push("Missing or invalid 'intl' object");else{const s=["en","da","nb","sv"];for(const u of s)(!e.intl[u]||typeof e.intl[u]!="object")&&i.push(`Missing or invalid '${u}' translations`)}try{const s=Me(e),u=new Set((e.layers||[]).map(c=>c.id).filter(Boolean)),f=[...s].filter(c=>!u.has(c));f.length>0&&i.push(`Missing layer definitions: ${f.join(", ")}`)}catch{i.push("Could not validate layer references")}return{valid:r.length===0,errors:r,warnings:i}},ea=t=>JSON.stringify(t,null,2),Ot=t=>{try{const e=Me(t),a=new Set((t.layers||[]).map(f=>f.id)),r=[...e].filter(f=>!a.has(f)),i=[...a].filter(f=>!e.has(f)),l=je(t),s=Object.keys(t.intl||{}),u={};for(const f of s){const c=t.intl[f]||{};u[f]=[...l].filter(d=>!(d in c))}return{missingLayers:r,unusedLayers:i,missingIntl:u,weatherFeatureCount:t.weatherFeatures?.length||0,featureCount:t.features?.length||0,layerCount:t.layers?.length||0,languageCount:s.length}}catch(e){return console.warn("Error computing stats:",e),{missingLayers:[],unusedLayers:[],missingIntl:{},weatherFeatureCount:0,featureCount:0,layerCount:0,languageCount:0}}},ta=t=>{const e=Ot(t);return`WF: ${e.weatherFeatureCount} • F: ${e.featureCount} • Layers: ${e.layerCount} • Langs: ${e.languageCount}`},V=["en","da","nb","sv"],aa=t=>{const e={...t},a=e.intl?.en||{},r={},i=(u,f)=>{!r[u]&&f&&(r[u]=f)},l=u=>{for(const f of u||[]){f.id&&f.name&&i(f.id,f.name);for(const c of f.items||[])c.id&&c.name&&i(c.id,c.name),c.legendDescription&&i(c.legendDescription,a[c.legendDescription]||c.legendDescription)}};l(e.weatherFeatures),l(e.features);const s=new Set([...je(e)]);return e.intl||(e.intl={en:{},da:{},nb:{},sv:{}}),V.forEach(u=>{const f=e.intl[u]||{},c={};s.forEach(d=>{f[d]?c[d]=f[d]:u==="en"&&r[d]?c[d]=r[d]:a[d]?c[d]=a[d]:c[d]=d}),e.intl[u]=c}),e},Tt=["wms","tiled","mapImage","portalItem"],at=(t,e)=>{const a={id:e,type:t,opacity:1,zIndex:0};switch(t){case"wms":return{...a,source:"https://example.com/wms",layerNames:""};case"tiled":return{...a,source:"https://example.com/tiles/{z}/{y}/{x}.png"};case"mapImage":return{...a,source:"https://example.com/arcgis/rest/services/MapServer"};case"portalItem":return{...a,source:"portal-item-id",options:{layerId:"0"}};default:return a}},na=t=>{const e=[];return(!t.id||t.id.trim()==="")&&e.push("Layer ID is required"),Tt.includes(t.type)||e.push(`Invalid layer type: ${t.type}`),(!t.source||t.source.trim()==="")&&e.push("Layer source is required"),t.type==="wms"&&(!t.layerNames||t.layerNames.trim()==="")&&e.push("WMS layers require layerNames"),t.opacity!==void 0&&(t.opacity<0||t.opacity>1)&&e.push("Opacity must be between 0 and 1"),{valid:e.length===0,errors:e}},ra=(t,e)=>{const a={...t},r=a.layers.findIndex(i=>i.id===e.id);return r>=0?(a.layers=[...a.layers],a.layers[r]=e):a.layers=[...a.layers,e],a},At=()=>({featureType:"weatherFeature",featureId:"",featureName:"",presentation:"single",mutuallyExclusive:!1,items:[]}),w=F(Xt()),de=F(!1),E=F({type:null,index:-1}),P=F({index:-1}),A=F({}),R=F({weatherFeatures:{},features:{}}),G=F("features"),Pt=F("json");F("en");const fe=F("Ready"),I=F({mode:"create",currentStep:1,isOpen:!1,data:At(),editingIndex:-1,editingType:"weatherFeature"}),we=q(()=>JSON.stringify(w.value,null,2)),la=q(()=>Ot(w.value)),ia=q(()=>ta(w.value)),sa=q(()=>{const t=E.value;return t.type===null||t.index<0?null:w.value[t.type][t.index]||null}),oa=q(()=>{const t=P.value;return t.index<0?null:w.value.layers[t.index]||null}),O=t=>{w.value=t,de.value=!0;const e=E.value;if(e.type&&e.index>=0){const r=t[e.type];e.index>=r.length&&(E.value={type:null,index:-1})}const a=P.value;a.index>=0&&a.index>=t.layers.length&&(P.value={index:-1})},x=t=>{fe.value=t,setTimeout(()=>{fe.value===t&&(fe.value="Ready")},5e3)},ca=(t,e)=>{E.value={type:t,index:e},Pt.value="feature"},De=t=>{P.value={index:t},Pt.value="layer"},ua=t=>A.value[t],te=(t,e)=>{A.value={...A.value,[t]:e}},oe=t=>{const e={...A.value};delete e[t],A.value=e},da=(t,e)=>R.value[t][e],Se=(t,e,a)=>{R.value={...R.value,[t]:{...R.value[t],[e]:a}}},nt=(t,e)=>{const a={...R.value[t]};delete a[e],R.value={...R.value,[t]:a}},Ut=(t="create",e="weatherFeature",a=-1)=>{const r={mode:t,currentStep:1,isOpen:!0,data:At(),editingIndex:a,editingType:e};if(t==="edit"&&a>=0){const l=(e==="weatherFeature"?w.value.weatherFeatures:w.value.features)[a];l&&(r.data={featureType:e,featureId:l.id||"",featureName:l.name||"",presentation:l.presentation||"single",mutuallyExclusive:l.mutuallyExclusive||!1,items:(l.items||[]).map(s=>({id:s.id,name:s.name,showLegend:s.showLegend||!1,legendUrl:s.legendUrl||"",legendDescription:s.legendDescription||"",layersIds:[...s.layersIds||[]]}))})}I.value=r},rt=()=>{I.value={...I.value,isOpen:!1}},J=t=>{I.value={...I.value,data:{...I.value.data,...t}}},lt=t=>{I.value={...I.value,currentStep:t}},fa=()=>{const t=aa(w.value);O(t),x("✅ Missing translations synchronized")},ha=(t,e)=>{const a={...w.value};a[t]=a[t].filter((i,l)=>l!==e),O(a);const r=E.value;r.type===t&&r.index===e?E.value={type:null,index:-1}:r.type===t&&r.index>e&&(E.value={...r,index:r.index-1}),x("✅ Feature deleted")},va=t=>{const e={...w.value};e.layers=e.layers.filter((r,i)=>i!==t),O(e);const a=P.value;a.index===t?P.value={index:-1}:a.index>t&&(P.value={index:a.index-1}),x("✅ Layer deleted")};function pa(){const t=L(we.value),e=L([]),a=L(!1);Nt(()=>{a.value||(t.value=we.value)},[we.value]);const r=Dt(c=>{const d=Et(c);if(e.value=d.errors,d.valid){const[o]=ze(c);o&&(O(o),x("✅ JSON updated"))}else x(`❌ JSON validation failed: ${d.errors[0]}`);a.value=!1},1e3),i=c=>{const o=c.target.value;t.value=o,a.value=!0,r(o)},l=c=>{c.preventDefault();const o=Array.from(c.dataTransfer?.files||[]).find(v=>v.type==="application/json"||v.name.endsWith(".json"));if(o){const v=new FileReader;v.onload=p=>{const h=p.target?.result;h&&(t.value=h,a.value=!0,r(h))},v.readAsText(o)}},s=c=>{c.preventDefault()},u=c=>{const d=c.clipboardData?.getData("text");if(d)try{JSON.parse(d),t.value=d,a.value=!0,r(d),x("✅ JSON pasted from clipboard")}catch{}},f=S(()=>e.value.length>0);return n("div",{children:[n("textarea",{className:f.value?"json-editor border-red-500":"json-editor",value:t.value,onInput:i,onDrop:l,onDragOver:s,onPaste:u,placeholder:"Paste JSON or drop a file…",spellcheck:!1}),e.value.length>0&&n("div",{className:"mt-2 p-2 bg-red-500 text-white rounded text-xs",children:[n("strong",{children:"Validation Errors:"}),n("ul",{className:"mt-1 ml-4 p-0",children:e.value.map((c,d)=>n("li",{children:c},d))})]})]})}function ma({feature:t,type:e,index:a}){const r=S(()=>E.value.type===e&&E.value.index===a),i=()=>{ca(e,a)},l=o=>{o.stopPropagation(),Ut("edit",e==="weatherFeatures"?"weatherFeature":"feature",a)},s=o=>{o.stopPropagation(),confirm("Are you sure you want to delete this feature?")&&ha(e,a)},u=(t.items||[]).length,f=t.presentation||"single",c=t.name||f==="single"&&t.items?.[0]?.name||t.id||"Unnamed Feature",d=t.mutuallyExclusive?" • Exclusive":"";return n("div",{className:`feature-list-item ${r.value?"selected":""}`,onClick:i,children:[n("div",{className:"feature-info",children:[n("div",{className:"feature-name",children:c}),n("div",{className:"feature-details",children:[u," item(s) • ",f,d]})]}),n("div",{className:"feature-actions",children:[n("button",{className:"btn small",onClick:l,children:"Edit"}),n("button",{className:"btn danger small",onClick:s,children:"Delete"})]})]})}function it({title:t,type:e,features:a}){return n("details",{open:!0,className:"feature-category",children:[n("summary",{className:"feature-category-header",children:t}),n("div",{className:"feature-category-content",children:a.length===0?n("div",{className:"p-3 text-slate-500 text-center",children:["No ",t.toLowerCase()," found"]}):a.map((r,i)=>n(ma,{feature:r,type:e,index:i},i))})]})}function _a(){const t=S(()=>w.value.weatherFeatures||[]),e=S(()=>w.value.features||[]);return n("div",{children:[n("div",{className:"mb-3",children:n("button",{className:"btn primary",onClick:()=>{Ut("create","weatherFeature")},children:"🧙‍♂️ Create Feature"})}),n("div",{className:"feature-browser",children:[n(it,{title:"Weather Features",type:"weatherFeatures",features:t.value}),n(it,{title:"General Features",type:"features",features:e.value})]})]})}function ya({layer:t,index:e,isUsed:a}){const r=S(()=>P.value.index===e),i=()=>{De(e)},l=s=>{s.stopPropagation(),confirm(`Are you sure you want to delete layer "${t.id}"?`)&&va(e)};return n("div",{className:`feature-list-item ${r.value?"selected":""}`,onClick:i,children:[n("div",{className:"feature-info",children:[n("div",{className:"feature-name",children:t.id||"(no id)"}),n("div",{className:"feature-details",children:[n("span",{className:`pill ${a?"ok":"warn"}`,children:a?"used":"unused"}),n("span",{className:"ml-2 text-xs",children:t.type})]})]}),n("div",{className:"feature-actions",children:n("button",{className:"btn danger small",onClick:l,children:"Delete"})})]})}function ga(){const t=S(()=>w.value.layers||[]),e=S(()=>Me(w.value));return n("div",{children:n("div",{className:"feature-category",children:[n("div",{className:"feature-category-header",children:"Layers"}),n("div",{className:"feature-category-content",children:t.value.length===0?n("div",{className:"p-3 text-slate-500 text-center",children:"No layers found"}):t.value.map((a,r)=>n(ya,{layer:a,index:r,isUsed:e.value.has(a.id)},a.id||r))})]})})}function Jt({title:t,value:e,onChange:a,placeholder:r}){const i=L(""),l=L([]),s=L(!1);Nt(()=>{s.value||(i.value=e!=null?JSON.stringify(e,null,2):"")},[e]);const u=Dt(d=>{if(d.trim()===""){l.value=["Empty JSON is not allowed"],s.value=!1;return}const[o,v]=ze(d);if(v||o===void 0)l.value=[v?.message||"Invalid JSON"],x(`❌ Invalid JSON: ${v?.message||"Parse error"}`);else try{a(o),l.value=[],x("✅ Section updated")}catch{l.value=["Failed to apply changes"],x("❌ Failed to apply changes")}s.value=!1},800),f=d=>{const o=d.target;i.value=o.value,s.value=!0,u(o.value)},c=S(()=>l.value.length>0);return e==null?n("div",{className:"text-center text-slate-500 p-4",children:r||"Select an item to edit its JSON"}):n("div",{children:[t&&n("div",{className:"flex flex-wrap gap-2 mb-3 items-center",children:n("span",{className:"text-slate-500",children:t})}),n("textarea",{className:c.value?"json-editor border-red-500":"json-editor",value:i.value,onInput:f,spellcheck:!1}),l.value.length>0&&n("div",{className:"mt-2 p-2 bg-red-500 text-white rounded text-xs",children:[n("strong",{children:"Validation Errors:"}),n("ul",{className:"mt-1 ml-4 p-0",children:l.value.map((d,o)=>n("li",{children:d},o))})]})]})}function ba(){const t=S(()=>P.value.index),e=oa,a=W(()=>t.value>=0?t.value:null,[t.value]),r=S(()=>a===null?null:ua(a)||null),i=S(()=>r.value!=null||a==="new"),l=S(()=>r.value?r.value:e.value||null),s=L([]),u=()=>{const h=at("wms","");te("new",h),De(-1),s.value=[]},f=()=>{t.value<0||!e.value||(te(t.value,{...e.value}),s.value=[])},c=()=>{const h=a??"new",m=h==="new"?A.value.new:A.value[h];if(!m)return;const N=na(m);if(!N.valid){s.value=N.errors,x(`❌ Layer validation failed: ${N.errors[0]}`);return}const _=ra(w.value,m);O(_);const g=_.layers.findIndex(j=>j.id===m.id);g>=0&&De(g),oe("new"),typeof h=="number"&&oe(h),s.value=[],x("✅ Layer saved successfully")},d=()=>{oe("new"),typeof a=="number"&&oe(a),s.value=[]},o=h=>{const m=a??"new",_={...m==="new"?A.value.new:A.value[m],...h};te(m,_)},v=h=>{e.value&&a===t.value&&!r.value&&te(t.value,{...e.value}),te(a??"new",h)},p=S(()=>t.value>=0&&!!e.value);return n("div",{className:"max-h-[calc(100vh-180px)] overflow-auto",children:[n("div",{className:"flex flex-wrap gap-2 mb-3 items-center",children:[n("span",{className:"text-slate-500",children:i.value?t.value>=0?"Edit Layer":"New Layer":"Layer Details"}),n("div",{className:"ml-auto flex gap-2",children:[!i.value&&p.value&&n("button",{className:"btn small",onClick:f,children:"Edit"}),n("button",{className:"btn primary small",onClick:u,children:"New Layer"}),i.value&&n(z,{children:[n("button",{className:"btn success small",onClick:c,children:"Save"}),n("button",{className:"btn ghost small",onClick:d,children:"Cancel"})]})]})]}),s.value.length>0&&n("div",{className:"mb-3 p-2 bg-red-500 text-white rounded text-xs",children:[n("strong",{children:"Validation Errors:"}),n("ul",{className:"mt-1 ml-4 p-0",children:s.value.map((h,m)=>n("li",{children:h},m))})]}),l.value?n(z,{children:[n("div",{className:"layer-section",children:[n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Layer ID"}),n("input",{type:"text",className:"form-input",value:l.value.id,onChange:h=>o({id:h.target.value}),placeholder:"unique_layer_id",disabled:!i.value})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Layer Type"}),n("select",{className:"form-select",value:l.value.type,onChange:h=>{const m=h.target.value,N=at(m,l.value?.id||"");o({type:m,source:N.source,layerNames:N.layerNames,options:N.options})},disabled:!i.value,children:Tt.map(h=>n("option",{value:h,children:h.toUpperCase()},h))})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Source URL/ID"}),n("input",{type:"text",className:"form-input",value:l.value.source||"",onChange:h=>o({source:h.target.value}),placeholder:l.value.type==="portalItem"?"portal-item-id":"https://example.com/service",disabled:!i.value})]}),l.value.type==="wms"&&n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"WMS Layer Names (CSV)"}),n("input",{type:"text",className:"form-input",value:l.value.layerNames||"",onChange:h=>o({layerNames:h.target.value}),placeholder:"layer1,layer2,layer3",disabled:!i.value})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Opacity"}),n("input",{type:"number",className:"form-input",min:"0",max:"1",step:"0.1",value:l.value.opacity??1,onChange:h=>o({opacity:parseFloat(h.target.value)}),disabled:!i.value})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Z-Index"}),n("input",{type:"number",className:"form-input",value:l.value.zIndex??0,onChange:h=>o({zIndex:parseInt(h.target.value)}),disabled:!i.value})]}),l.value.type==="portalItem"&&n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Portal Layer ID"}),n("input",{type:"text",className:"form-input",value:l.value.options?.layerId||"",onChange:h=>o({options:{...l.value.options||{},layerId:h.target.value}}),placeholder:"0",disabled:!i.value})]})]}),n(Jt,{title:"Selected Layer JSON",value:l.value,placeholder:"Select a layer on the left",onChange:v})]}):n("div",{className:"text-center p-5 text-slate-500",children:[n("p",{children:"Select a layer to view/edit or create a new one"}),n("button",{className:"btn primary",onClick:u,children:"New Layer"})]})]})}function Na(){const t=E,e=sa,a=S(()=>!t.value.type||t.value.index<0?null:da(t.value.type,t.value.index)||null),r=S(()=>a.value!=null),i=S(()=>a.value?a.value:e.value||null),l=()=>{!t.value.type||t.value.index<0||!e.value||Se(t.value.type,t.value.index,{...e.value})},s=()=>{!t.value.type||t.value.index<0||nt(t.value.type,t.value.index)},u=()=>{if(!t.value.type||t.value.index<0)return;const d=a.value;if(!d)return;if(!d.presentation||!Array.isArray(d.items)){x("❌ Feature is missing required fields");return}const o={...w.value},v=[...o[t.value.type]];v[t.value.index]=d,o[t.value.type]=v,O(o),nt(t.value.type,t.value.index),x("✅ Feature saved successfully")},f=d=>{if(!t.value.type||t.value.index<0)return;const o=a.value||e.value;Se(t.value.type,t.value.index,{...o,...d})},c=d=>{!t.value.type||t.value.index<0||Se(t.value.type,t.value.index,d)};return n("div",{className:"max-h-[calc(100vh-180px)] overflow-auto",children:[n("div",{className:"flex flex-wrap gap-2 mb-3 items-center",children:[n("span",{className:"text-slate-500",children:r.value?"Edit Feature":"Feature Details"}),n("div",{className:"ml-auto flex gap-2",children:[!r.value&&t.value.type&&t.value.index>=0&&n("button",{className:"btn small",onClick:l,children:"Edit"}),r.value&&n(z,{children:[n("button",{className:"btn success small",onClick:u,children:"Save"}),n("button",{className:"btn ghost small",onClick:s,children:"Cancel"})]})]})]}),i.value?n(z,{children:[n("div",{className:"layer-section",children:[n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Feature ID"}),n("input",{type:"text",className:"form-input",value:i.value.id||"",onChange:d=>f({id:d.target.value}),placeholder:"feature_id",disabled:!r.value})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Feature Name"}),n("input",{type:"text",className:"form-input",value:i.value.name||"",onChange:d=>f({name:d.target.value}),placeholder:"Feature display name",disabled:!r.value})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Presentation"}),n("select",{className:"form-select",value:i.value.presentation,onChange:d=>f({presentation:d.target.value}),disabled:!r.value,children:[n("option",{value:"single",children:"Single"}),n("option",{value:"multiple",children:"Multiple"})]})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Mutually Exclusive"}),n("div",{children:[n("input",{type:"checkbox",className:"form-checkbox",checked:!!i.value.mutuallyExclusive,onChange:d=>f({mutuallyExclusive:d.target.checked}),disabled:!r.value}),n("span",{className:"text-slate-200 text-sm",children:"Only one item selectable at a time"})]})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Items"}),n("div",{className:"text-xs text-slate-500",children:[(i.value.items||[]).length," item(s). Edit full details in the JSON below."]})]})]}),n(Jt,{title:"Selected Feature JSON",value:i.value,placeholder:"Select a feature on the left",onChange:c})]}):n("div",{className:"text-center p-5 text-slate-500",children:"Select a feature on the left to view/edit"})]})}function xa(){const t=S(()=>la.value),e=t.value.missingLayers.length,a=t.value.unusedLayers.length,r=Object.entries(t.value.missingIntl).map(([i,l])=>({lang:i,count:l.length})).filter(i=>i.count>0);return!e&&!a&&r.length===0?null:n("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700 p-2 px-3 text-xs flex gap-3 items-center z-10",children:[e>0&&n("span",{className:`pill ${e>0?"bad":"ok"}`,children:["Missing layers: ",e]}),a>0&&n("span",{className:`pill ${a>0?"warn":"ok"}`,children:["Unused layers: ",a]}),r.map(({lang:i,count:l})=>n("span",{className:`pill ${l>0?"warn":"ok"}`,children:[i," missing: ",l]},i)),t.value.missingLayers.length>0&&n("div",{className:"text-slate-500 text-[10px]",children:["Missing: ",t.value.missingLayers.join(", ")]}),t.value.unusedLayers.length>0&&n("div",{className:"text-slate-500 text-[10px]",children:["Unused: ",t.value.unusedLayers.join(", ")]})]})}function wa(){const e=I.value.data,a=r=>{J({featureType:r})};return n("div",{children:[n("h3",{children:"Choose Feature Type"}),n("div",{className:"form-group",children:[n("label",{className:"form-radio",children:[n("input",{type:"radio",name:"featureType",value:"weatherFeature",checked:e.featureType==="weatherFeature",onChange:()=>a("weatherFeature")}),n("strong",{children:"Weather Feature"}),n("div",{className:"form-help",children:"Weather-related layers (wind, precipitation, temperature, clouds, radar, etc.)"})]}),n("label",{className:"form-radio",children:[n("input",{type:"radio",name:"featureType",value:"feature",checked:e.featureType==="feature",onChange:()=>a("feature")}),n("strong",{children:"General Feature"}),n("div",{className:"form-help",children:"Non-weather features (terrain, obstacles, POI, navigation aids, etc.)"})]})]})]})}function Sa(){const e=I.value.data,a=(r,i)=>{J({[r]:i})};return n("div",{children:[n("h3",{children:"Feature Configuration"}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Feature ID (for internationalization)"}),n("input",{type:"text",className:"form-input",value:e.featureId,onChange:r=>a("featureId",r.target.value),placeholder:"e.g., 'wind', 'cloud', 'aviation_obstacle'"}),n("div",{className:"form-help",children:"Optional. Used as key for translations across languages (en, da, nb, sv)."})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Display Name"}),n("input",{type:"text",className:"form-input",value:e.featureName,onChange:r=>a("featureName",r.target.value),placeholder:"e.g., 'Wind (60 min)', 'Cloud Coverage'"}),n("div",{className:"form-help",children:"Optional. Visible name in UI."})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Presentation Style"}),n("select",{className:"form-select",value:e.presentation,onChange:r=>a("presentation",r.target.value),children:[n("option",{value:"single",children:"Single - Only one item can be active at a time"}),n("option",{value:"multiple",children:"Multiple - Multiple items can be active simultaneously"})]})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:[n("input",{type:"checkbox",className:"form-checkbox",checked:e.mutuallyExclusive,onChange:r=>a("mutuallyExclusive",r.target.checked)}),"Mutually Exclusive Items"]}),n("div",{className:"form-help",children:"When one item is selected, others are automatically deselected."})]})]})}function Ca(){const e=I.value.data,a=L(""),r=L(!0),i=L(""),l=L(""),s=()=>{if(!a.value.trim())return;const c={id:tt(a.value),name:a.value.trim(),showLegend:r.value,legendUrl:i.value.trim()||void 0,legendDescription:l.value.trim()||void 0,layersIds:[]},d=[...e.items,c];J({items:d}),a.value="",r.value=!0,i.value="",l.value=""},u=c=>{const d=e.items.filter((o,v)=>v!==c);J({items:d})},f=(c,d)=>{const o=e.items.map((v,p)=>p===c?{...v,...d}:v);J({items:o})};return n("div",{children:[n("h3",{children:"Add Items to Feature"}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Item Name"}),n("input",{type:"text",className:"form-input",value:a.value,onChange:c=>a.value=c.target.value,placeholder:"e.g., 'FL025', 'Low Clouds', 'Icing Index'"})]}),n("div",{className:"form-group",children:n("label",{className:"form-label",children:[n("input",{type:"checkbox",className:"form-checkbox",checked:r.value,onChange:c=>r.value=c.target.checked}),"Show Legend Button"]})}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Legend URL (optional)"}),n("input",{type:"text",className:"form-input",value:i.value,onChange:c=>i.value=c.target.value,placeholder:"https://hemswx.no/img/info-map/legend.png"})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Legend Description Key (optional)"}),n("input",{type:"text",className:"form-input",value:l.value,onChange:c=>l.value=c.target.value,placeholder:"e.g., 'cloud_low_legend'"})]}),n("div",{className:"form-group",children:n("button",{className:"btn primary",onClick:s,disabled:!a.value.trim(),children:"Add Item"})}),n("div",{className:"items-container",children:e.items.length===0?n("div",{style:{padding:"20px",textAlign:"center",color:"var(--muted)"},children:"No items added yet"}):e.items.map((c,d)=>n("div",{className:"item-row",children:[n("div",{className:"item-info",children:[n("div",{className:"item-name",children:c.name}),n("div",{className:"item-details",children:["ID: ",c.id,c.showLegend&&" • Legend enabled",c.legendUrl&&" • Has legend URL",c.legendDescription&&` • Description: ${c.legendDescription}`]}),n("div",{className:"item-layers",children:["Layers: ",c.layersIds.length>0?c.layersIds.join(", "):"None assigned"]})]}),n("div",{className:"item-actions",children:[n("button",{className:"btn small",onClick:()=>{const o=prompt("Edit item name:",c.name);o&&f(d,{name:o,id:tt(o)})},children:"Edit"}),n("button",{className:"btn danger small",onClick:()=>u(d),children:"Remove"})]})]},d))})]})}function ka(){const e=I.value.data,a=S(()=>w.value.layers||[]),r=(l,s,u)=>{const f=e.items.map((c,d)=>{if(d===l){const o=c.layersIds||[],v=u?[...o,s]:o.filter(p=>p!==s);return{...c,layersIds:v}}return c});J({items:f})},i=(l,s)=>e.items[l]?.layersIds?.includes(s)||!1;return e.items.length===0?n("div",{children:[n("h3",{children:"Associate Layers with Items"}),n("p",{className:"muted",children:"No items to associate. Go back to add items first."})]}):a.value.length===0?n("div",{children:[n("h3",{children:"Associate Layers with Items"}),n("p",{className:"muted",children:"No layers found in the JSON data. You can create layers in the Layers tab after creating this feature."}),n("div",{className:"validation-results",children:n("div",{className:"validation-item warning",children:"⚠️ Items without layer associations will not function properly in the application."})})]}):n("div",{children:[n("h3",{children:"Associate Layers with Items"}),n("p",{className:"muted",children:"Select which layers each item should control. Items without layer associations will not function."}),n("div",{className:"layer-grid",children:e.items.map((l,s)=>n("div",{className:"layer-section",children:[n("h4",{children:l.name}),n("div",{className:"layer-options",children:a.value.map((u,f)=>n("div",{className:"layer-option",children:[n("input",{type:"checkbox",id:`layer-${s}-${f}`,checked:i(s,u.id),onChange:c=>r(s,u.id,c.target.checked)}),n("label",{htmlFor:`layer-${s}-${f}`,children:[u.id,n("div",{style:{fontSize:"10px",opacity:.7},children:u.type.toUpperCase()})]})]},f))}),l.layersIds.length===0&&n("div",{style:{marginTop:"8px",fontSize:"11px",color:"var(--warn)",fontStyle:"italic"},children:"⚠️ No layers assigned to this item"})]},s))}),e.items.some(l=>l.layersIds.length===0)&&n("div",{className:"validation-results",style:{marginTop:"16px"},children:n("div",{className:"validation-item warning",children:"⚠️ Some items don't have layer associations. These items will not function properly."})}),n("div",{style:{marginTop:"16px",padding:"12px",background:"var(--input-bg)",borderRadius:"8px"},children:[n("div",{className:"form-label",style:{marginBottom:"8px"},children:"Quick Actions:"}),n("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n("button",{className:"btn small",onClick:()=>{const l=e.items.map(s=>({...s,layersIds:a.value.map(u=>u.id)}));J({items:l})},children:"Assign All Layers to All Items"}),n("button",{className:"btn small",onClick:()=>{const l=e.items.map(s=>({...s,layersIds:[]}));J({items:l})},children:"Clear All Assignments"})]})]})]})}function La(){const t=I.value,e=t.data,a=S(()=>{const i=[],l=[],s=[];e.items.length===0?i.push("No items have been added to this feature"):s.push(`✅ ${e.items.length} item(s) configured`);const u=e.items.filter(h=>h.layersIds.length===0);u.length>0&&l.push(`⚠️ ${u.length} item(s) have no layer assignments: ${u.map(h=>h.name).join(", ")}`);const f=e.items.filter(h=>h.layersIds.length>0);f.length>0&&s.push(`✅ ${f.length} item(s) have layer assignments`);const c=new Set;e.items.forEach(h=>{h.layersIds.forEach(m=>c.add(m))});const d=new Set((w.value.layers||[]).map(h=>h.id)),o=[...c].filter(h=>!d.has(h));o.length>0&&i.push(`❌ Referenced layers not found in JSON: ${o.join(", ")}`);const v=e.items.map(h=>h.id),p=v.filter((h,m)=>v.indexOf(h)!==m);return p.length>0&&i.push(`❌ Duplicate item IDs found: ${[...new Set(p)].join(", ")}`),{errors:i,warnings:l,success:s}}),r=S(()=>{const i={id:e.featureId||void 0,name:e.featureName||void 0,presentation:e.presentation,mutuallyExclusive:e.mutuallyExclusive||void 0,items:e.items.map(s=>({id:s.id,name:s.name,showLegend:s.showLegend,legendUrl:s.legendUrl||void 0,legendDescription:s.legendDescription||void 0,layersIds:s.layersIds}))};return JSON.parse(JSON.stringify(i,(s,u)=>u===void 0?void 0:u))});return n("div",{children:[n("h3",{children:"Review Your Feature"}),n("div",{className:"validation-results",children:[a.value.errors.map((i,l)=>n("div",{className:"validation-item error",children:i},`error-${l}`)),a.value.warnings.map((i,l)=>n("div",{className:"validation-item warning",children:i},`warning-${l}`)),a.value.success.map((i,l)=>n("div",{className:"validation-item success",children:i},`success-${l}`)),a.value.errors.length===0&&a.value.warnings.length===0&&n("div",{className:"validation-item success",children:["🎉 Feature is ready to be ",t.mode==="edit"?"updated":"created","!"]})]}),n("div",{className:"form-group",children:[n("label",{className:"form-label",children:"Generated JSON Preview"}),n("textarea",{className:"form-textarea",value:JSON.stringify(r.value,null,2),readonly:!0,style:{height:"300px",fontSize:"11px"}})]}),n("div",{style:{marginTop:"16px",padding:"12px",background:"var(--input-bg)",borderRadius:"8px",fontSize:"12px"},children:[n("div",{className:"form-label",children:"Feature Summary:"}),n("ul",{style:{margin:"8px 0",paddingLeft:"20px",color:"var(--muted)"},children:[n("li",{children:[n("strong",{children:"Type:"})," ",e.featureType==="weatherFeature"?"Weather Feature":"General Feature"]}),e.featureId&&n("li",{children:[n("strong",{children:"ID:"})," ",e.featureId]}),e.featureName&&n("li",{children:[n("strong",{children:"Name:"})," ",e.featureName]}),n("li",{children:[n("strong",{children:"Presentation:"})," ",e.presentation]}),e.mutuallyExclusive&&n("li",{children:[n("strong",{children:"Mutually Exclusive:"})," Yes"]}),n("li",{children:[n("strong",{children:"Items:"})," ",e.items.length]}),n("li",{children:[n("strong",{children:"Total Layer Associations:"})," ",e.items.reduce((i,l)=>i+l.layersIds.length,0)]})]})]})]})}const Ia=[{id:1,title:"Feature Type"},{id:2,title:"Configuration"},{id:3,title:"Add Items"},{id:4,title:"Layer Association"},{id:5,title:"Review & Save"}];function $a(){const t=I.value,e=t.currentStep,a=S(()=>{const o=t.data;switch(e){case 1:return!0;case 2:return!0;case 3:return o.items.length>0;case 4:return o.items.every(v=>v.layersIds.length>0);case 5:return!0;default:return!1}}),r=e>1,i=e===5,l=()=>{confirm("Are you sure you want to close the wizard? Unsaved changes will be lost.")&&rt()},s=()=>{r&&lt(e-1)},u=()=>{a.value&&lt(e+1)},f=()=>{const o=t.data,v={id:o.featureId||void 0,name:o.featureName||void 0,presentation:o.presentation,mutuallyExclusive:o.mutuallyExclusive||void 0,items:o.items.map(m=>({id:m.id,name:m.name,showLegend:m.showLegend,legendUrl:m.legendUrl||void 0,legendDescription:m.legendDescription||void 0,layersIds:m.layersIds}))};Object.keys(v).forEach(m=>{v[m]===void 0&&delete v[m]});const p={...w.value},h=o.featureType==="weatherFeature"?p.weatherFeatures:p.features;t.mode==="edit"&&t.editingIndex>=0?h[t.editingIndex]=v:h.push(v),O(p),rt()},c=()=>{switch(e){case 1:return n(wa,{});case 2:return n(Sa,{});case 3:return n(Ca,{});case 4:return n(ka,{});case 5:return n(La,{});default:return null}},d=o=>o<e?"completed":o===e?"active":"pending";return n("div",{className:"wizard-modal active",children:n("div",{className:"wizard-content",children:[n("div",{className:"wizard-header",children:n("h2",{children:[t.mode==="edit"?"Edit Feature":"Create New Feature"," - Multi-Step Wizard"]})}),n("div",{className:"wizard-body",children:n("div",{className:"wizard-layout",children:[n("div",{className:"wizard-sidebar",children:n("div",{className:"stepper",children:Ia.map(o=>n("div",{className:`stepper-item ${d(o.id)}`,children:[n("div",{className:"stepper-number",children:n("span",{children:o.id})}),n("div",{className:"stepper-label",children:o.title})]},o.id))})}),n("div",{className:"wizard-main",children:n("div",{className:"step-content active",children:c()})})]})}),n("div",{className:"wizard-footer",children:[n("button",{className:"btn",onClick:s,disabled:!r,children:"← Previous"}),i?n("button",{className:"btn success",onClick:f,children:["✨ ",t.mode==="edit"?"Update Feature":"Create Feature"]}):n("button",{className:"btn primary",onClick:u,disabled:!a.value,children:"Next →"}),n("button",{className:"btn ghost",onClick:l,children:"Cancel"})]})]})})}function Fa(){const t=S(()=>w.value),e=L(""),a=L(!1),r=L("any"),i=W(()=>{try{return[...je(t.value)].sort()}catch{return[]}},[t.value]),l=W(()=>{const u=e.value.toLowerCase().trim(),f=r.value,c=(d,o)=>{const v=t.value.intl?.[o]?.[d];return v===void 0||v===""};return i.filter(d=>{if(u){const o=d.toLowerCase().includes(u),v=V.some(p=>(t.value.intl?.[p]?.[d]||"").toLowerCase().includes(u));if(!o&&!v)return!1}if(a.value){if(f==="any"){if(!V.some(o=>c(d,o)))return!1}else if(!c(d,f))return!1}return!0})},[i,e.value,a.value,r.value,t.value]),s=(u,f,c)=>{const d={...t.value,intl:{...t.value.intl}};d.intl[f]={...d.intl[f]||{},[u]:c},O(d)};return i.length===0?n("div",{className:"p-4 text-center text-slate-500",children:"No translation keys found"}):n("div",{children:[n("div",{className:"flex gap-2 items-center mb-3",children:[n("button",{className:"btn small",onClick:fa,children:"Fill missing from EN"}),n("input",{type:"text",className:"form-input",placeholder:"Search keys or translations…",value:e.value,onInput:u=>e.value=u.target.value}),n("label",{className:"flex items-center gap-2 text-xs text-slate-400",children:[n("input",{type:"checkbox",checked:a.value,onChange:u=>a.value=u.target.checked}),"Show missing only"]}),n("select",{className:"form-select text-xs",value:r.value,onChange:u=>r.value=u.target.value,children:[n("option",{value:"any",children:"Any language"}),V.map(u=>n("option",{value:u,children:u.toUpperCase()},u))]})]}),n("div",{className:"overflow-auto",children:n("table",{className:"w-full text-sm border-collapse",children:[n("thead",{children:n("tr",{children:[n("th",{className:"text-left p-2 border-b border-slate-700 sticky top-0 bg-slate-800",children:"Key"}),V.map(u=>n("th",{className:"text-left p-2 border-b border-slate-700 sticky top-0 bg-slate-800",children:u.toUpperCase()},u))]})}),n("tbody",{children:l.map(u=>n("tr",{className:"align-top",children:[n("td",{className:"p-2 border-b border-slate-800 text-slate-300 whitespace-nowrap",children:u}),V.map(f=>n("td",{className:"p-2 border-b border-slate-800 min-w-[220px]",children:n("input",{type:"text",className:"form-input w-full",value:t.value.intl?.[f]?.[u]??"",onInput:c=>s(u,f,c.target.value),placeholder:`[${f}] ${u}`})},f))]},u))})]})})]})}function Da({onOpenClick:t}){return n("div",{className:"flex items-center justify-center min-h-[60vh]",onPaste:i=>{const l=i.clipboardData?.getData("text");if(l)try{const s=JSON.parse(l);O(s),x("✅ JSON pasted from clipboard")}catch{}},children:n("div",{className:"w-full max-w-2xl text-center p-8 border border-dashed border-slate-600 rounded-xl bg-slate-900/40",onDrop:i=>{i.preventDefault();const s=Array.from(i.dataTransfer?.files||[]).find(u=>u.type==="application/json"||u.name.endsWith(".json"));if(s){const u=new FileReader;u.onload=f=>{const c=f.target?.result;if(c)try{const d=JSON.parse(c);O(d),x("✅ JSON file loaded successfully")}catch{x("❌ Invalid JSON dropped")}},u.readAsText(s)}},onDragOver:i=>{i.preventDefault()},children:[n("h2",{className:"text-lg mb-2 text-slate-100",children:"Drop your JSON here"}),n("p",{className:"mb-4 text-slate-400",children:"or"}),n("button",{className:"btn primary",onClick:t,children:"Click to Open JSON…"}),n("div",{className:"mt-4 text-xs text-slate-500",children:"Tip: You can also paste JSON here"})]})})}const Ea=[{id:"features",label:"Features"},{id:"layers",label:"Layers"},{id:"internationalization",label:"i18n"},{id:"json",label:"JSON"}];function Oa(){const t=xt(null),e=()=>{t.current?.click()};return n("div",{className:"app",children:[n("input",{ref:t,type:"file",accept:"application/json,.json",style:{display:"none"},onChange:a=>{const r=a.target.files?.[0];if(r){const i=new FileReader;i.onload=l=>{const s=l.target?.result;if(s)try{const u=JSON.parse(s);updateJsonData(u),x("✅ JSON file loaded successfully")}catch(u){x(`❌ Invalid JSON: ${u instanceof Error?u.message:"Parse error"}`)}},i.readAsText(r)}}}),de.value&&n("header",{className:"flex gap-3 items-center p-3 border-b border-slate-700 sticky top-0 z-[5]",style:{background:"rgba(15, 17, 21, 0.9)",backdropFilter:"saturate(1.2) blur(6px)"},children:[n("h1",{className:"text-base m-0 mr-2 opacity-95",children:"Map Layers JSON Editor"}),n("button",{className:"btn",onClick:e,children:"Open JSON…"}),n("div",{className:"ml-auto flex flex-col items-end gap-1",children:[de.value&&n("span",{className:"text-slate-500",children:ia.value}),n("div",{className:"text-xs max-w-[300px] text-right text-slate-500",children:fe.value})]})]}),de.value?n("div",{className:"p-3 min-h-[calc(100vh-80px)]",children:[n("div",{className:"flex gap-1 mb-3 border-b border-slate-700 pb-2",children:Ea.map(a=>n("button",{className:`px-4 py-2 rounded-t-md text-xs transition-all duration-150 text-decoration-none ${G.value===a.id?"bg-blue-500 text-white border-blue-500":"bg-slate-950 text-slate-500 border border-slate-700 hover:border-slate-600 hover:text-slate-200"}`,onClick:()=>G.value=a.id,children:a.label},a.id))}),G.value==="features"&&n("div",{className:"flex gap-3",children:[n("div",{className:"w-1/2 min-w-[360px] bg-slate-800 border border-slate-700 rounded-xl p-3",children:n(_a,{})}),n("div",{className:"w-1/2 min-w-[360px] bg-slate-800 border border-slate-700 rounded-xl p-3",children:n(Na,{})})]}),G.value==="layers"&&n("div",{className:"flex gap-3",children:[n("div",{className:"w-1/2 min-w-[360px] bg-slate-800 border border-slate-700 rounded-xl p-3",children:n(ga,{})}),n("div",{className:"w-1/2 min-w-[360px] bg-slate-800 border border-slate-700 rounded-xl p-3",children:n(ba,{})})]}),G.value==="internationalization"&&n("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-3",children:n(Fa,{})}),G.value==="json"&&n("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-3",children:[n("div",{className:"flex flex-wrap gap-2 mb-3 items-center",children:[n("span",{className:"text-slate-500",children:"JSON (editable)"}),n("div",{className:"ml-auto flex gap-2",children:[n("button",{className:"btn small",onClick:()=>{const a=Et(JSON.stringify(w.value));a.valid?x("✅ JSON is valid"):x(`❌ Validation failed: ${a.errors.length} error(s), ${a.warnings.length} warning(s)`)},children:"Validate"}),n("button",{className:"btn small",onClick:()=>{try{ea(w.value),x("✅ JSON formatted")}catch{x("❌ Could not format JSON")}},children:"Format"}),n("button",{className:"btn success small",onClick:()=>{try{const a=JSON.stringify(w.value,null,2),r=new Date().toISOString().slice(0,19).replace(/[:.]/g,"-");Qt(`map-layers-${r}.json`,a),x("✅ JSON file downloaded")}catch{x("❌ Download failed")}},children:"Download"})]})]}),n(pa,{})]})]}):n("div",{className:"p-6",children:n(Da,{onOpenClick:e})}),n(xa,{}),I.value.isOpen&&n($a,{})]})}qt(n(Oa,{}),document.getElementById("app"));
