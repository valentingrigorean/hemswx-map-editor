import{k2 as Wt,fR as _t,dv as te,gB as ee}from"./index-D8xrrNs5.js";let ut=globalThis.Float16Array;function ie(...n){return new(ut??Float32Array)(...n)}function rt(){return ut}let it=!!ut;var a;let Kt=(a=class{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.elementCount=9;const i=this.TypedArrayConstructor;s===void 0&&(s=9*i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<9;s++)e[s]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<9;s++)this.typedBuffer[r++]=e[s]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const s=this.typedBuffer,f=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;for(let c=0;c<9;++c)s[i++]=f[u++]}get buffer(){return this.typedBuffer.buffer}},a.ElementCount=9,a);var B;let Qt=(B=class{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.elementCount=16;const i=this.TypedArrayConstructor;s===void 0&&(s=16*i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<16;s++)e[s]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<16;s++)this.typedBuffer[r++]=e[s]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){this.copyFromTypedBuffer(t,e.typedBuffer,r*e.typedBufferStride)}copyFromTypedBuffer(t,e,r){const s=this.typedBuffer;let f=t*this.typedBufferStride;for(let i=0;i<16;++i)s[f++]=e[r++]}get buffer(){return this.typedBuffer.buffer}},B.ElementCount=16,B);const nt=class nt{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.elementCount=1;const i=this.TypedArrayConstructor;s===void 0&&(s=i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.stride=s,this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}};nt.ElementCount=1;let h=nt;var E;let l=(E=class{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.start=r,this.elementCount=2;const i=this.TypedArrayConstructor;s===void 0&&(s=2*i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,Wt(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const s=this.typedBuffer,f=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;s[i++]=f[u++],s[i]=f[u]}get buffer(){return this.typedBuffer.buffer}},E.ElementCount=2,E);var T;let p=(T=class{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.elementCount=3;const i=this.TypedArrayConstructor;s===void 0&&(s=3*i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,_t(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,s){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=s}copyFrom(t,e,r){const s=this.typedBuffer,f=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;s[i++]=f[u++],s[i++]=f[u++],s[i]=f[u]}get buffer(){return this.typedBuffer.buffer}},T.ElementCount=3,T);const ct=class ct{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const i=this.TypedArrayConstructor;s===void 0&&(s=4*i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,te(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,s,f){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=s,this.typedBuffer[t]=f}copyFrom(t,e,r){const s=this.typedBuffer,f=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;s[i++]=f[u++],s[i++]=f[u++],s[i++]=f[u++],s[i]=f[u]}get buffer(){return this.typedBuffer.buffer}};ct.ElementCount=4;let y=ct,se=class{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}};function ft(n,t="Assertion"){if(!n){const e=new Error(t).stack;throw new se(`${t} at ${e}`)}}function ue(n,t){n||(t=t||"",console.warn("Verify failed: "+t+`
`+new Error("verify").stack))}function ne(n,t,e,r){let s,f=(e[0]-n[0])/t[0],i=(r[0]-n[0])/t[0];f>i&&(s=f,f=i,i=s);let u=(e[1]-n[1])/t[1],c=(r[1]-n[1])/t[1];if(u>c&&(s=u,u=c,c=s),f>c||u>i)return!1;u>f&&(f=u),c<i&&(i=c);let b=(e[2]-n[2])/t[2],o=(r[2]-n[2])/t[2];return b>o&&(s=b,b=o,o=s),!(f>o||b>i)&&(o<i&&(i=o),!(i<0))}function ce(n,t,e,r,s,f=ee()){const i=(r[s]-e[s])*(t[0]-n[0])-(r[0]-e[0])*(t[s]-n[s]),u=(r[0]-e[0])*(n[s]-e[s])-(r[s]-e[s])*(n[0]-e[0]);if(i===0)return!1;const c=u/i;return f[0]=n[0]+c*(t[0]-n[0]),f[1]=n[s]+c*(t[s]-n[s]),!0}function he(n,t){return Math.log(n)/Math.log(t)}function ye(n){return n[0]===1&&n[1]===0&&n[2]===0&&n[3]===0&&n[4]===0&&n[5]===1&&n[6]===0&&n[7]===0&&n[8]===0&&n[9]===0&&n[10]===1&&n[11]===0&&n[15]===1}const ht=class ht extends h{constructor(t,e=0,r,s){ft(it),super(rt(),t,e,r,s),this.elementType="f16"}};ht.ElementType="f16";let lt=ht;const yt=class yt extends h{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}};yt.ElementType="f32";let pt=yt;const x=class x extends l{constructor(t,e=0,r,s){ft(it),super(rt(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(x,t,e)}};x.ElementType="f16";let dt=x;const g=class g extends l{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(g,t,e)}};g.ElementType="f32";let ot=g;const M=class M extends p{constructor(t,e=0,r,s){ft(it),super(rt(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(M,t,e)}};M.ElementType="f16";let at=M;const m=class m extends p{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}};m.ElementType="f32";let Bt=m;const L=class L extends y{constructor(t,e=0,r,s){ft(it),super(rt(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(L,t,e)}};L.ElementType="f16";let Et=L;var d;let le=(d=class extends y{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(d,t,e)}},d.ElementType="f32",d);const C=class C extends Kt{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(C,t,e)}};C.ElementType="f32";let Tt=C;const w=class w extends Kt{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(w,t,e)}};w.ElementType="f64";let mt=w;const Y=class Y extends Qt{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(Y,t,e)}};Y.ElementType="f32";let St=Y;const R=class R extends Qt{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(R,t,e)}};R.ElementType="f64";let At=R;const N=class N extends h{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(N,t,e)}};N.ElementType="f64";let bt=N;const P=class P extends l{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(P,t,e)}};P.ElementType="f64";let xt=P;const S=class S extends p{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(S,t,e)}static fromTypedArray(t,e){return new S(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}};S.ElementType="f64";let gt=S;const F=class F extends y{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(F,t,e)}};F.ElementType="f64";let Mt=F;const $=class $ extends h{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer($,t,e)}};$.ElementType="u8";let Lt=$;const I=class I extends l{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(I,t,e)}};I.ElementType="u8";let Ct=I;const A=class A extends p{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(A,t,e)}static fromTypedArray(t,e){return new A(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}};A.ElementType="u8";let wt=A;const O=class O extends y{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(O,t,e)}};O.ElementType="u8";let Yt=O;const U=class U extends h{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(U,t,e)}};U.ElementType="u16";let Rt=U;const V=class V extends l{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(V,t,e)}};V.ElementType="u16";let Nt=V;const v=class v extends p{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(v,t,e)}};v.ElementType="u16";let Pt=v;const k=class k extends y{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(k,t,e)}};k.ElementType="u16";let Ft=k;const X=class X extends h{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(X,t,e)}};X.ElementType="u32";let $t=X;const Z=class Z extends l{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(Z,t,e)}};Z.ElementType="u32";let It=Z;const j=class j extends p{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(j,t,e)}};j.ElementType="u32";let Ot=j;const q=class q extends y{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(q,t,e)}};q.ElementType="u32";let Ut=q;const z=class z extends h{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(z,t,e)}};z.ElementType="i8";let Vt=z;const D=class D extends l{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(D,t,e)}};D.ElementType="i8";let vt=D;const G=class G extends p{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(G,t,e)}};G.ElementType="i8";let kt=G;const H=class H extends y{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(H,t,e)}};H.ElementType="i8";let Xt=H;const J=class J extends h{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(J,t,e)}};J.ElementType="i16";let Zt=J;const K=class K extends l{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(K,t,e)}};K.ElementType="i16";let jt=K;const Q=class Q extends p{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(Q,t,e)}};Q.ElementType="i16";let qt=Q;const W=class W extends y{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(W,t,e)}};W.ElementType="i16";let zt=W;const _=class _ extends h{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(_,t,e)}};_.ElementType="i32";let Dt=_;const tt=class tt extends l{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(tt,t,e)}};tt.ElementType="i32";let Gt=tt;const et=class et extends p{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(et,t,e)}};et.ElementType="i32";let Ht=et;const st=class st extends y{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(st,t,e)}};st.ElementType="i32";let Jt=st;export{At as A,bt as B,vt as C,kt as D,St as E,Mt as F,Xt as G,Zt as H,Lt as I,jt as J,qt as K,Nt as L,Ft as M,zt as N,wt as O,Dt as P,Gt as Q,Ht as R,It as S,le as T,gt as U,Pt as V,Jt as W,lt as a,xt as b,ue as c,Tt as d,ce as e,pt as f,Yt as g,at as h,ne as i,Ct as j,Ot as k,rt as l,Et as m,ye as n,Bt as o,dt as p,Ut as q,it as r,ft as s,ie as t,he as u,$t as v,Rt as w,mt as x,ot as y,Vt as z};
